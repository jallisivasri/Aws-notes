Automated build & test pipeline using GitHub Actions Dockerized a Node.js application
GitHub (code)
   ‚Üì
Jenkins (robot server)
   ‚Üì
Docker build
   ‚Üì
Docker Hub
   ‚Üì
AWS EC2 (production server)

You push code
   ‚Üì
GitHub webhook triggers Jenkins
   ‚Üì
Jenkins pulls code
   ‚Üì
Docker image built
   ‚Üì
Image pushed to Docker Hub
   ‚Üì
EC2 runs new container

1.create node.js app
2.
Personal DevOps Notes ‚Äì Jenkins + Docker + AWS
File: jenkins-docker-notes.txt
Problem 1: EC2 public IP changed after restart

Reason: EC2 public IP is dynamic by default
Fix: Updated Jenkins URL and used new IP
Command / Action:

Checked new public IP in AWS EC2 dashboard

Updated Jenkins access URL

Problem 2: Jenkins service not starting

Reason: Jenkins service was stopped after EC2 restart
Fix: Started and enabled Jenkins service
Command:

sudo systemctl start jenkins
sudo systemctl enable jenkins
sudo systemctl status jenkins

Problem 3: Forgot Jenkins admin password / Manage Users not visible

Reason: Jenkins security not properly configured
Fix: Jenkins was running in unsecured mode
Command / Action:

Logged in without authentication

Opened Manage Jenkins ‚Üí Configure Global Security

Enabled security properly

Problem 4: Jenkins always shows sign-in page

Reason: Previous security config cached
Fix: Verified Jenkins security settings and restarted Jenkins
Command:

sudo systemctl restart jenkins

Problem 5: SSH login to EC2 failed (Permission denied)

Reason: Wrong key path or key name
Fix: Used correct .pem key file
Command:

ssh -i correct-key.pem ubuntu@<EC2_PUBLIC_IP>

Problem 6: Git commands failed ‚Äì ‚Äúnot a git repository‚Äù

Reason: Commands executed outside Git project directory
Fix: Navigated to correct project folder
Command:

cd cicd-node-app
git status

Problem 7: Jenkins build failed ‚Äì Jenkinsfile not found

Reason: Jenkinsfile missing or wrong file name
Fix: Created file named exactly Jenkinsfile (no .txt)
Command:

git add Jenkinsfile
git commit -m "Add Jenkinsfile"
git push origin main

Problem 8: Jenkinsfile pushed as Jenkinsfile.txt

Reason: File saved incorrectly on Windows
Fix: Renamed file to Jenkinsfile
Command:

mv Jenkinsfile.txt Jenkinsfile
git commit -m "Fix Jenkinsfile name"
git push

Problem 9: Docker build failed ‚Äì invalid image name

Reason: Placeholder YOUR_DOCKER_USERNAME used
Fix: Replaced with actual Docker Hub username (lowercase)
Command:

docker build -t jallisivasri703/cicd-node-app .

Problem 10: Jenkins still using old Docker command

Reason: Jenkins workspace cached old Jenkinsfile
Fix: Cleared Jenkins workspace manually
Command:

sudo rm -rf /var/lib/jenkins/workspace/nodejs-cicd/*
sudo systemctl restart jenkins

Problem 11: ‚ÄúWipe out workspace‚Äù option not visible

Reason: Jenkins UI limitation / permissions
Fix: Manually deleted workspace from server
Command:

cd /var/lib/jenkins/workspace
sudo rm -rf nodejs-cicd

Problem 12: Code changes not reflected in Jenkins build

Reason: Changes saved locally but not pushed to GitHub
Fix: Committed and pushed code properly
Command:

git add .
git commit -m "Update application"
git push origin main

Problem 13: Jenkins pipeline runs twice checkout

Reason: Default SCM checkout + custom git stage
Fix: Accepted behavior; not a blocking issue
Note: Declarative pipeline auto-checks SCM

Problem 14: Docker container already exists

Reason: Previous container running
Fix: Stopped and removed container before running new one
Command:

docker stop app || true
docker rm app || true
docker run -d --name app -p 3000:3000 jallisivasri703/cicd-node-app

Problem 15: Application not accessible from browser

Reason: EC2 Security Group missing port rule
Fix: Opened port 3000 in inbound rules
Action:

AWS EC2 ‚Üí Security Group ‚Üí Add inbound rule

Port: 3000 | Source: 0.0.0.0/0

‚úÖ Final Learning Summary

Always check Jenkins console output

GitHub is the source of truth

Docker image names must be lowercase

Jenkins workspace caching causes many issues

Most DevOps issues are configuration, not code

‚≠ê INTERVIEW GOLD LINE (MEMORIZE)

‚ÄúWhenever I faced issues, I analyzed Jenkins logs, verified GitHub commits, and fixed configuration or caching problems systematically.‚Äù

Problem: App not accessible on port 3000 after EC2 restart
Reason: Docker containers do not auto-start by default
Fix: Used Docker restart policy
Command: docker run -d --restart always --name app -p 3000:3000 image_name


Interview-ready explanation (memorize this)

‚ÄúInitially my pipeline deployed the container successfully, but it wasn‚Äôt resilient to EC2 restarts. I improved it by adding Docker‚Äôs restart policy and making the deployment stage idempotent, ensuring zero downtime after server reboots.‚Äù

üìù Add THIS to your Personal DevOps Notes
Improvement: Made Docker deployment resilient
Why: Containers stop after EC2 reboot by default
Fix: Used Docker restart policy (--restart always)
Result: App auto-starts after reboot


Problem: Minikube failed to start on Windows
Reason: Docker container could not reach registry.k8s.io
Fix: Deleted minikube, restarted Docker Desktop, used stable Kubernetes version
Command:
minikube delete --all --purge
minikube start --driver=docker --kubernetes-version=v1.29.0

Problem: App works locally but not deployable
Reason: Image only exists locally
Fix: Tagged and pushed image to Docker Hub
Commands:
docker tag node-app:latest jallisivasri703/node-app:latest
docker push jallisivasri703/node-app:latest
Problem: Need to deploy app on Kubernetes
Reason: App must be orchestrated and scalable
Fix: Created Deployment + NodePort Service
Files:
deployment.yaml
service.yaml
Commands:
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
minikube service node-app-service

http://localhost:3000



